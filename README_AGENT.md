# ü§ñ AI –ê–≥–µ–Ω—Ç –¥–ª—è –ê–Ω–∞–ª–∏—Ç–∏–∫–∏ –ú—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö –î–∞–Ω–Ω—ã—Ö

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–≥–µ–Ω—Ç –Ω–∞ –±–∞–∑–µ LangGraph –∏ Claude –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–∏–º–∏–Ω–≥–æ–≤—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º.

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–ê–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö:

- **–¢–æ–ø —Ç—Ä–µ–∫–∏ –∏ –∞—Ä—Ç–∏—Å—Ç—ã** –ø–æ –¥–æ—Ö–æ–¥—É, —Å—Ç—Ä–∏–º–∞–º, –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏
- **–ü–æ–∏—Å–∫** —Ç—Ä–µ–∫–æ–≤ –∏ –∞—Ä—Ç–∏—Å—Ç–æ–≤
- **–î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** –ø–æ —Ç—Ä–µ–∫–∞–º (–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, —Å—Ç—Ä–∞–Ω—ã, –¥–∏–Ω–∞–º–∏–∫–∞)
- **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ** –∞—Ä—Ç–∏—Å—Ç–æ–≤ –º–µ–∂–¥—É —Å–æ–±–æ–π
- **–í—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏–Ω–∞–º–∏–∫–∞** –ø–æ –º–µ—Å—è—Ü–∞–º
- **–í–∏—Ä—É—Å–Ω—ã–µ —Ç—Ä–µ–∫–∏** —Å –∞–Ω–∞–ª–∏–∑–æ–º –≤–∑—Ä—ã–≤–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞
- **–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è** - –∞–Ω–∞–ª–∏–∑ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏
- **–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏ —Å—Ç—Ä–∞–Ω—ã** - –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
cd /Users/nuraliserikbay/analytics_scripts
source venv/bin/activate
pip install -r requirements.txt
```

### 2. –ü—Ä–µ–∫–∞–ª—å–∫—É–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–æ–¥–∏–Ω —Ä–∞–∑):

```bash
python precalc_data.py
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ JSON —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ `precalc_data/` (~35 MB –≤–º–µ—Å—Ç–æ 200+ MB CSV).

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ API –∫–ª—é—á Anthropic:

```bash
export ANTHROPIC_API_KEY='your-api-key-here'
```

–ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ `~/.zshrc` –∏–ª–∏ `~/.bashrc`:

```bash
echo 'export ANTHROPIC_API_KEY="your-api-key"' >> ~/.zshrc
source ~/.zshrc
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º:

```bash
python analytics_agent.py
```

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:

```
–í—ã: –ü–æ–∫–∞–∂–∏ —Ç–æ–ø-10 —Ç—Ä–µ–∫–æ–≤ –ø–æ –¥–æ—Ö–æ–¥—É

–í—ã: –ù–∞–π–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç—Ä–µ–∫–µ Meili

–í—ã: –°—Ä–∞–≤–Ω–∏ –∞—Ä—Ç–∏—Å—Ç–æ–≤ Yenlik –∏ Shiza

–í—ã: –ö–∞–∫–∏–µ —Ç—Ä–µ–∫–∏ —Å—Ç–∞–ª–∏ –≤–∏—Ä—É—Å–Ω—ã–º–∏?

–í—ã: –ê–Ω–∞–ª–∏–∑ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ –¥–ª—è –∞—Ä—Ç–∏—Å—Ç–∞ Ernar Amandyq

–í—ã: –ö–∞–∫–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø—Ä–∏–Ω–æ—Å–∏—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –¥–µ–Ω–µ–≥?

–í—ã: –ü–æ–∫–∞–∂–∏ –¥–∏–Ω–∞–º–∏–∫—É –∞—Ä—Ç–∏—Å—Ç–∞ Yenlik –ø–æ –º–µ—Å—è—Ü–∞–º

–í—ã: –¢–æ–ø-5 —Å—Ç—Ä–∞–Ω –ø–æ –¥–æ—Ö–æ–¥—É

–í—ã: –ù–∞–π–¥–∏ —Ç—Ä–µ–∫–∏ —Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–º –≤–∏—Ä—É—Å–Ω–æ—Å—Ç–∏ –±–æ–ª—å—à–µ 15
```

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```python
from analytics_agent import run_agent
import os

api_key = os.getenv("ANTHROPIC_API_KEY")

# –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å
response = run_agent(
    "–ü–æ–∫–∞–∂–∏ —Ç–æ–ø-5 —Ç—Ä–µ–∫–æ–≤ –ø–æ –¥–æ—Ö–æ–¥—É",
    api_key=api_key
)
print(response)

# –° —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏—Å—Ç–æ—Ä–∏–∏
response = run_agent(
    "–°—Ä–∞–≤–Ω–∏ Yenlik –∏ Shiza",
    api_key=api_key,
    thread_id="my_session"
)
```

## üõ† –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

–ê–≥–µ–Ω—Ç –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ 13 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º:

1. **get_top_tracks** - —Ç–æ–ø —Ç—Ä–µ–∫–æ–≤
2. **get_top_artists** - —Ç–æ–ø –∞—Ä—Ç–∏—Å—Ç–æ–≤
3. **search_track** - –ø–æ–∏—Å–∫ —Ç—Ä–µ–∫–∞
4. **search_artist** - –ø–æ–∏—Å–∫ –∞—Ä—Ç–∏—Å—Ç–∞
5. **get_track_details** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç—Ä–µ–∫–µ
6. **get_artist_tracks** - –≤—Å–µ —Ç—Ä–µ–∫–∏ –∞—Ä—Ç–∏—Å—Ç–∞
7. **get_platform_stats** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º
8. **get_country_stats** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º
9. **get_artist_timeline** - –≤—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏–Ω–∞–º–∏–∫–∞
10. **compare_artists** - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞—Ä—Ç–∏—Å—Ç–æ–≤
11. **get_viral_tracks** - –ø–æ–∏—Å–∫ –≤–∏—Ä—É—Å–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤
12. **get_summary_stats** - –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
13. **analyze_monetization** - –∞–Ω–∞–ª–∏–∑ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–µ–∫–∞–ª—å–∫—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

```
precalc_data/
‚îú‚îÄ‚îÄ metadata.json              # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚îú‚îÄ‚îÄ tracks_aggregated.json     # –ê–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ —Ç—Ä–µ–∫–∞–º (~3.3 MB)
‚îú‚îÄ‚îÄ artists_aggregated.json    # –ê–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ –∞—Ä—Ç–∏—Å—Ç–∞–º (~965 KB)
‚îú‚îÄ‚îÄ platforms_aggregated.json  # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º
‚îú‚îÄ‚îÄ countries_aggregated.json  # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º
‚îú‚îÄ‚îÄ monthly_aggregated.json    # –í—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏–Ω–∞–º–∏–∫–∞
‚îî‚îÄ‚îÄ track_details.json         # –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (~31 MB)
```

### –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

- **2,089,732** –∑–∞–ø–∏—Å–µ–π
- **‚Ç¨80,345** –æ–±—â–∏–π –¥–æ—Ö–æ–¥
- **515+ –º–ª–Ω** —Å—Ç—Ä–∏–º–æ–≤
- **5,332** —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤
- **1,057** —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∞—Ä—Ç–∏—Å—Ç–æ–≤
- **52** –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- **226** —Å—Ç—Ä–∞–Ω

## üîß –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:

1. –î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç–æ–¥ –≤ –∫–ª–∞—Å—Å `AnalyticsTools` –≤ `analytics_tools.py`
2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é-–æ–±–µ—Ä—Ç–∫—É —Å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º `@tool` –≤ `analytics_agent.py`
3. –î–æ–±–∞–≤—å—Ç–µ –≤ —Å–ø–∏—Å–æ–∫ `tools`

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏:

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `claude-3-5-sonnet-20241022`. –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:

```python
app = create_graph(api_key, model="claude-3-opus-20240229")
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã:

–í —Ñ—É–Ω–∫—Ü–∏–∏ `create_agent()` –∏–∑–º–µ–Ω–∏—Ç–µ `temperature`:

```python
llm = ChatAnthropic(
    model=model,
    api_key=api_key,
    temperature=0.7  # –ë–æ–ª—å—à–µ –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏
)
```

## üìù –ü—Ä–∏–º–µ—Ä—ã —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

```
–í—ã: –ù–∞–π–¥–∏ –≤—Å–µ —Ç—Ä–µ–∫–∏ –∞—Ä—Ç–∏—Å—Ç–∞ Yenlik, –æ—Ç—Å–æ—Ä—Ç–∏—Ä—É–π –ø–æ –¥–æ—Ö–æ–¥—É –∏ –ø–æ–∫–∞–∂–∏ 
    –¥–∏–Ω–∞–º–∏–∫—É —Ç–æ–ø-3 —Ç—Ä–µ–∫–æ–≤ –ø–æ –º–µ—Å—è—Ü–∞–º

–í—ã: –ö–∞–∫–∏–µ –∞—Ä—Ç–∏—Å—Ç—ã –∏–º–µ—é—Ç —Å–∞–º—É—é –≤—ã—Å–æ–∫—É—é —Å—Ä–µ–¥–Ω—é—é —Å—Ç–∞–≤–∫—É –∑–∞ —Å—Ç—Ä–∏–º? 
    –ü–æ–∫–∞–∂–∏ —Ç–æ–ø-5 –∏ –æ–±—ä—è—Å–Ω–∏ –ø–æ—á–µ–º—É

–í—ã: –°—Ä–∞–≤–Ω–∏ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—é Instagram –∏ Spotify. –ö–∞–∫–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ 
    —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –¥–ª—è –∑–∞—Ä–∞–±–æ—Ç–∫–∞?

–í—ã: –ù–∞–π–¥–∏ —Ç—Ä–µ–∫–∏ –∫–æ—Ç–æ—Ä—ã–µ –≤–∑–æ—Ä–≤–∞–ª–∏—Å—å –≤ –∞–≤–≥—É—Å—Ç–µ 2025. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π 
    –∏—Ö –æ–±—â–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

–í—ã: –°–æ–∑–¥–∞–π –æ—Ç—á–µ—Ç –ø–æ –∞—Ä—Ç–∏—Å—Ç—É Ernar Amandyq: –≤—Å–µ —Ç—Ä–µ–∫–∏, –æ–±—â–∏–π –¥–æ—Ö–æ–¥, 
    –ª—É—á—à–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, –¥–∏–Ω–∞–º–∏–∫–∞ –ø–æ –º–µ—Å—è—Ü–∞–º
```

## üé® –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤

–ê–≥–µ–Ω—Ç –º–æ–∂–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç—ã:

```python
query = """
–°–æ–∑–¥–∞–π –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ –∞—Ä—Ç–∏—Å—Ç—É Yenlik:
1. –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–¥–æ—Ö–æ–¥, —Å—Ç—Ä–∏–º—ã, —Ç—Ä–µ–∫–∏)
2. –¢–æ–ø-5 —Ç—Ä–µ–∫–æ–≤ –ø–æ –¥–æ—Ö–æ–¥—É
3. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º
4. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º
5. –î–∏–Ω–∞–º–∏–∫–∞ –ø–æ –º–µ—Å—è—Ü–∞–º
6. –ê–Ω–∞–ª–∏–∑ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏
"""

response = run_agent(query, api_key)
```

## üîç –û—Ç–ª–∞–¥–∫–∞

–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ LangGraph:

```python
import logging
logging.basicConfig(level=logging.DEBUG)
```

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–ü—Ä–µ–∫–∞–ª—å–∫—É–ª—è—Ü–∏—è**: ~25 —Å–µ–∫—É–Ω–¥ (–æ–¥–∏–Ω —Ä–∞–∑)
- **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö**: ~1 —Å–µ–∫—É–Ω–¥–∞
- **–ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å**: 2-5 —Å–µ–∫—É–Ω–¥
- **–°–ª–æ–∂–Ω—ã–π –∑–∞–ø—Ä–æ—Å —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏**: 10-30 —Å–µ–∫—É–Ω–¥

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### LangGraph:
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è LangGraph](https://langchain-ai.github.io/langgraph/)
- [–ü—Ä–∏–º–µ—Ä—ã](https://github.com/langchain-ai/langgraph/tree/main/examples)

### Anthropic Claude:
- [API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.anthropic.com/)
- [–ú–æ–¥–µ–ª–∏](https://docs.anthropic.com/claude/docs/models-overview)

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–µ–∫–∞–ª—å–∫—É–ª—è—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞: `ls precalc_data/`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á: `echo $ANTHROPIC_API_KEY`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip list | grep langgraph`

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
